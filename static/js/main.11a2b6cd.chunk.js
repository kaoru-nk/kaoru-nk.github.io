(this.webpackJsonpssw4wts=this.webpackJsonpssw4wts||[]).push([[0],{194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),o=(a(81),a(82),a(43)),i=a.n(o),d=a(67),u=a(13),l=a(68),b=a(45),j=a(1),p=function(e){var t=[];for(var a in e.data){var n=e.data[a][1];n<800&&n>30&&t.push({x:e.data[a][0],y:n})}var r={datasets:[{label:"A dataset",data:t,backgroundColor:"rgba(255, 99, 132, 1)"}]};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(b.a,{type:b.a,data:r,options:{animation:!1,scales:{yAxes:[{ticks:{max:500,min:100}}]}}})})},v=a(208),x=!1,h=[],f=function(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(u.a)(c,2),o=s[0],b=s[1],f=Object(n.useState)([]),O=Object(u.a)(f,2),g=O[0],k=O[1];function m(){return(m=Object(d.a)(i.a.mark((function e(){var t,a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serial.requestPort();case 3:return t=e.sent,e.next=6,t.open({baudRate:115200});case 6:if(!t.readable){e.next=32;break}a=t.readable.getReader(),e.prev=8;case 9:return e.next=12,a.read();case 12:if(n=e.sent,r=n.value,!n.done){e.next=18;break}return console.log("Canceled\n"),e.abrupt("break",22);case 18:c=(new TextDecoder).decode(r),w(c),e.next=9;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(8),console.error("Error: Read"+e.t0+"\n");case 27:return e.prev=27,a.releaseLock(),e.finish(27);case 30:e.next=6;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),console.error("Error: Open"+e.t1+"\n");case 37:case"end":return e.stop()}}),e,null,[[0,34],[8,24,27,30]])})))).apply(this,arguments)}var w=function(e){var t=parseInt(e);if(!isNaN(t)&&e&&(r(t),x)){var a=g,n=new Date;a.push([n.getTime(),t]),h.push([n.getTime(),t]),k(a)}};return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.a,{variant:"contained",color:"primary",disabled:o,onClick:function(){return m.apply(this,arguments)},children:"\u63a5\u7d9a"}),Object(j.jsx)(v.a,{variant:"contained",color:"secondary",onClick:function(){if(b(!o),x=!x)k([]),h=[];else{var e="",t=h[0][0];for(var a in h){var n=(h[a][0]-t)/1e3;e+="".concat(n,",").concat(h[a][1],",\r\n")}var r=new Blob([e],{type:"text/csv;charset=utf-8"});Object(l.saveAs)(r,"file.csv")}console.log(o)},children:o?"\u8a18\u9332\u505c\u6b62":"\u8a18\u9332\u958b\u59cb"}),Object(j.jsxs)("p",{children:["\u73fe\u5728\u5024\uff1a",a]}),Object(j.jsx)(p,{data:h})]})},O=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("h1",{children:"SerialSave for Web"})}),Object(j.jsx)(f,{})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),g()},81:function(e,t,a){},82:function(e,t,a){}},[[194,1,2]]]);
//# sourceMappingURL=main.11a2b6cd.chunk.js.map